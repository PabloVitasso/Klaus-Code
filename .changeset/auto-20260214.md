---
"klaus-code": minor
---

### ‚ú® Features

- feat: make Claude Code API logging conditional on debug setting
- feat: add comprehensive request/response logging for Claude Code API
- feat: optimize usage bars display to match web interface
- feat: Refactor OpenRouter provider to use Vercel AI SDK (#10778)
- feat: migrate MiniMax provider to AI SDK (#11357)
- feat: migrate VercelAiGatewayHandler to AI SDK (#11353)
- feat: migrate OpenAiHandler to AI SDK (#11351)
- feat: migrate Requesty provider to AI SDK (@requesty/ai-sdk) (#11350)
- feat: migrate LiteLLM provider to AI SDK (@ai-sdk/openai-compatible) (#11348)
- feat: migrate OpenAI Native provider to @ai-sdk/openai (#11330)
- feat: batch consecutive tool calls in chat UI with shared utility (#11245)
- feat: add task header highlight for visual status indication (#11305)
- feat(history): render nested subtasks as recursive tree (#11299)
- feat: add lock toggle to pin API config across all modes in workspace (#11295)

### üêõ Bug Fixes

- fix: add alwaysAllowReadOnly to ApiHandlerOptions type
- fix: register ClaudeCodeHandler in provider factory and fix headers
- fix: update Claude Code API headers to match official CLI format
- fix: update Claude Code API headers to match official CLI format
- fix: resolve Claude Code OAuth API authentication issues
- fix: restore claudeCodeIsAuthenticated state in ClineProvider
- fix: pass claudeCodeIsAuthenticated prop to ClaudeCode component
- fix: correct schema validation regex in post-merge checklist
- fix: initialize Claude Code OAuth manager on extension activation
- fix: add Claude Code to webview UI provider dropdown
- fix: restore claude-code provider after upstream merge
- fix: add claude-code provider to useSelectedModel and providerModelConfig
- fix: add claude-code provider types after upstream merge
- fix: preserve pasted images in chatbox during chat activity (#11375)
- fix: prevent chat history loss during cloud/settings navigation (#11371) (#11372)
- fix: avoid zsh process-substitution false positives in assignments (#11365)
- fix(editor): make tab close best-effort in DiffViewProvider.open (#11363)
- fix(checkpoints): canonicalize core.worktree comparison to prevent Windows path mismatch failures (#11346)
- fix: surface actual API error messages instead of generic NoOutputGeneratedError (#11359)
- fix: prevent double notification sound playback (#11283)
- fix: make removeClineFromStack() delegation-aware to prevent orphaned parent tasks (#11302)
- fix: resolve race condition in new_task delegation that loses parent task history (#11331)
- fix(reliability): prevent webview postMessage crashes and make dispose idempotent (#11313)
- fix: serialize taskHistory writes and fix delegation status overwrite race (#11335)
- fix: prevent false unsaved changes prompt with OpenAI Compatible headers (#8230) (#11334)
- fix: validate Gemini thinkingLevel against model capabilities and handle empty streams (#11303)
- fix: prevent parent task state loss during orchestrator delegation (#11281)

### üìö Documentation

- docs: rename .hur to .har for mitmproxy flows file
- docs: add post-merge validation checklist for Claude Code
- docs: fix pnpm command sequences after clean

### üîß Other Changes

- Revert "fix: update Claude Code API headers to match official CLI format"
- updates to Claude Code quota display
- debug: add header logging and restore rate limit indicator
- Second Quick Fix for Azure Foundry (#11374)
- refactor: migrate NativeOllamaHandler to AI SDK (#11355)
- refactor: unify Gemini/Vertex error handling via handleAiSdkError() (#11364)
- Fix task resumption in the API module (#11369)
- refactor: migrate Qwen Code provider to AI SDK (#11356)
- refactor: migrate OpenAI Codex to AI SDK and use Responses API instructions field (#11352)
- Revert "feat: add task header highlight for visual status indication" (#11349)
